<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Pirate Play â€“ Official Android App</title>

  <style>
    :root{
      --bg1:#0b0f14;
      --bg2:#1a0f07;
      --glass: rgba(12, 12, 12, 0.62);
      --stroke: rgba(255,255,255,.14);
      --text: rgba(255,255,255,.95);
      --muted: rgba(255,255,255,.65);
      --orange1:#ff8a00;
      --orange2:#ff5a00;
      --green1:#00e676;
      --green2:#00c853;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }

    body{
      margin:0;
      font-family: system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
      color: var(--text);

      background:
        radial-gradient(700px 400px at 20% 10%, rgba(255,140,0,.20), transparent 55%),
        radial-gradient(700px 450px at 80% 0%, rgba(255,90,0,.18), transparent 60%),
        radial-gradient(900px 650px at 50% 100%, rgba(255,160,50,.10), transparent 60%),
        linear-gradient(135deg, var(--bg1), var(--bg2));

      padding: 26px 14px 28px;
      padding-top: calc(26px + env(safe-area-inset-top));
      min-height: 100vh;
    }

    .page{
      min-height: 100vh;
      display:flex;
      justify-content:center;
      align-items:flex-start;
    }

    .wrap{
      width:100%;
      max-width: 440px;
    }

    .card{
      width:100%;
      border-radius: 26px;
      padding: 20px 16px 18px;
      background: var(--glass);
      border: 1px solid var(--stroke);
      backdrop-filter: blur(16px);
      -webkit-backdrop-filter: blur(16px);
      box-shadow: 0 30px 90px rgba(0,0,0,.62);
      overflow:hidden;
      position:relative;
    }

    .card::before{
      content:"";
      position:absolute;
      inset:-100px;
      background:
        radial-gradient(circle at 30% 15%, rgba(255,140,0,.22), transparent 55%),
        radial-gradient(circle at 80% 12%, rgba(255,90,0,.18), transparent 55%);
      filter: blur(12px);
      pointer-events:none;
      opacity: .95;
    }

    .topmini{
      position:relative;
      z-index:2;
      text-align:center;
      font-size: 11px;
      letter-spacing: .22em;
      font-weight: 900;
      color: rgba(255,255,255,.78);
      text-transform: uppercase;
      margin-bottom: 14px;
    }

    .hero{
      position:relative;
      z-index:2;
      display:flex;
      flex-direction:column;
      align-items:center;
      text-align:center;
      gap:10px;
    }

    .logoBox{
      width: 126px;
      height: 126px;
      border-radius: 30px;
      padding: 8px;
      background: rgba(0,0,0,.30);
      border: 1px solid rgba(255,255,255,.18);
      box-shadow:
        0 18px 55px rgba(0,0,0,.65),
        0 0 0 1px rgba(255,140,0,.12) inset;
      display:flex;
      align-items:center;
      justify-content:center;
      margin-top: 4px;
    }

    .logo{
      width:100%;
      height:100%;
      object-fit: cover;
      border-radius: 22px;
      display:block;
    }

    h1{
      margin: 6px 0 0;
      font-size: 34px;
      font-weight: 950;
      line-height: 1.05;
      text-shadow: 0 6px 30px rgba(0,0,0,.55);
    }

    .subtitle{
      margin:0;
      font-size:14px;
      font-weight:650;
      color: var(--muted);
    }

    .pills{
      margin-top: 8px;
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      gap:10px;
    }

    .pill{
      font-size: 13px;
      font-weight: 800;
      color: rgba(255,255,255,.84);
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.12);
      padding: 10px 14px;
      border-radius: 999px;
      display:flex;
      align-items:center;
      gap:8px;
    }

    .cta{
      position:relative;
      z-index:2;
      margin-top: 14px;
      display:flex;
      flex-direction:column;
      gap:10px;
      align-items:center;
    }

    .btn{
      width: 100%;
      border:none;
      cursor:pointer;
      text-align:center;
      padding: 18px 18px;
      border-radius: 18px;
      font-size: 18px;
      font-weight: 950;
      color: #140a00;
      background: linear-gradient(135deg, var(--orange1), var(--orange2));
      box-shadow: 0 18px 45px rgba(255,110,0,.25);
      transition: transform .15s ease, box-shadow .15s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: scale(.98); }
    .btn[disabled]{ opacity:.70; cursor:not-allowed; }

    .btnGuide{
      width: 100%;
      border:none;
      cursor:pointer;
      text-align:center;
      padding: 14px 16px;
      border-radius: 16px;
      font-size: 15px;
      font-weight: 950;
      color: #021a08;
      background: linear-gradient(135deg, var(--green1), var(--green2));
      box-shadow: 0 16px 35px rgba(0,230,118,.20);
      transition: transform .15s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .btnGuide:active{ transform: scale(.98); }

    .hint{
      font-size: 12px;
      color: rgba(255,255,255,.55);
      text-align:center;
      margin-top: -2px;
    }

    .bannerWrap{
      width:100%;
      margin-top: 6px;
      border-radius: 16px;
      overflow:hidden;
      border: 1px solid rgba(255,255,255,.12);
      box-shadow: 0 14px 35px rgba(0,0,0,.35);
      background: rgba(0,0,0,.18);
    }
    .banner{
      width:100%;
      height:auto;
      display:block;
      aspect-ratio: 16/9;
      object-fit: cover;
      opacity: .95;
    }

    .grid{
      position:relative;
      z-index:2;
      margin-top: 14px;
      display:grid;
      grid-template-columns: 1fr;
      gap:12px;
    }

    .tile{
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      padding: 14px;
      text-align:left;
      box-shadow: 0 14px 35px rgba(0,0,0,.35);
    }
    .tile .k{
      font-size: 12px;
      letter-spacing:.10em;
      text-transform: uppercase;
      color: rgba(255,255,255,.55);
      font-weight:900;
      margin-bottom: 6px;
    }
    .tile .v{
      font-size: 22px;
      font-weight: 950;
      color: rgba(255,255,255,.96);
    }

    .counterBox{
      margin-top: 14px;
      text-align:center;
      background: rgba(0,0,0,.22);
      border: 1px solid rgba(255,255,255,.10);
      border-radius: 18px;
      padding: 16px;
      box-shadow: 0 14px 35px rgba(0,0,0,.35);
      position:relative;
      z-index:2;
    }
    .counterTitle{
      font-size: 12px;
      letter-spacing: .18em;
      font-weight: 950;
      color: rgba(255,255,255,.65);
      text-transform: uppercase;
      margin-bottom: 8px;
    }
    .counterNum{
      font-size: 34px;
      font-weight: 950;
      line-height: 1;
    }

    footer{
      position:relative;
      z-index:2;
      margin-top: 14px;
      text-align:center;
      font-size: 12px;
      color: rgba(255,255,255,.50);
    }

    /* âœ… POPUP / MODAL */
    .modal{
      position: fixed;
      inset: 0;
      z-index: 9999;
      display:none;
      align-items:center;
      justify-content:center;
      padding: 18px;
      background: rgba(0,0,0,.65);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }
    .modal.show{ display:flex; }

    .modalBox{
      width: 100%;
      max-width: 420px;
      max-height: 74vh;
      background: rgba(10,10,10,.88);
      border: 1px solid rgba(255,255,255,.16);
      border-radius: 18px;
      overflow:hidden;
      box-shadow: 0 30px 90px rgba(0,0,0,.7);
      position:relative;
    }

    .modalTop{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 10px 12px;
      border-bottom: 1px solid rgba(255,255,255,.12);
      gap: 10px;
    }
    .modalTitle{
      font-weight: 950;
      letter-spacing:.08em;
      text-transform: uppercase;
      font-size: 12px;
      color: rgba(255,255,255,.88);
      white-space: nowrap;
    }
    .stepLabel{
      font-size: 12px;
      font-weight: 900;
      color: rgba(255,255,255,.60);
      flex: 1;
      text-align: center;
    }
    .closeBtn{
      border:none;
      background: rgba(255,255,255,.10);
      color: rgba(255,255,255,.95);
      padding: 7px 10px;
      border-radius: 10px;
      font-weight:900;
      cursor:pointer;
    }

    .slider{
      display:flex;
      overflow-x:auto;
      scroll-snap-type: x mandatory;
      -webkit-overflow-scrolling: touch;
      scrollbar-width: none;
      scroll-behavior: smooth;
    }
    .slider::-webkit-scrollbar{ display:none; }

    .slide{
      flex: 0 0 100%;
      scroll-snap-align: center;
      padding: 10px;
      display:flex;
      align-items:center;
      justify-content:center;
    }

    .slide img{
      width: 100%;
      height: auto;
      max-height: 52vh;
      object-fit: contain;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.35);
    }

    .navRow{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 12px 12px;
      border-top: 1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.18);
    }

    .navBtn{
      border:none;
      background: rgba(255,255,255,.10);
      color: rgba(255,255,255,.92);
      padding: 10px 14px;
      border-radius: 12px;
      font-weight: 950;
      cursor:pointer;
      min-width: 92px;
    }
    .navBtn:active{ transform: scale(.98); }
    .navBtn[disabled]{ opacity:.40; cursor:not-allowed; }

    .dots{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:7px;
      flex: 1;
    }
    .dot{
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: rgba(255,255,255,.25);
      border: 1px solid rgba(255,255,255,.12);
      transition: transform .15s ease, background .15s ease;
    }
    .dot.active{
      background: rgba(255,140,0,.95);
      transform: scale(1.2);
    }

    .modalHint{
      padding: 0 12px 12px;
      font-size: 12px;
      color: rgba(255,255,255,.55);
      text-align:center;
    }

    @media (max-width: 360px){
      h1{ font-size: 30px; }
      .logoBox{ width:112px; height:112px; }
      .btn{ font-size: 17px; padding: 16px; }
      .counterNum{ font-size: 30px; }
      .modalBox{ max-height: 72vh; }
      .slide img{ max-height: 50vh; }
    }
  </style>
</head>

<body>
  <div class="page">
    <div class="wrap">
      <div class="card">

        <div class="topmini">PIRATE PLAY OFFICIAL APP</div>

        <div class="hero">
          <div class="logoBox">
            <img src="Web_logo.png" class="logo" alt="Pirate Play Logo">
          </div>

          <h1>Pirate Play</h1>
          <p class="subtitle">Official Android App</p>

          <div class="pills">
            <div class="pill">ðŸ“¦ APK <b>74MB</b></div>
            <div class="pill">âš¡ Version <b>v1.0</b></div>
            <div class="pill">ðŸ¤– Android <b>7.0+</b></div>
          </div>
        </div>

        <div class="cta">
          <button class="btn" id="downloadBtn">â¬‡ Download APK</button>

          <div class="bannerWrap">
            <img src="And_banner.png" class="banner" alt="Pirate Play Banner">
          </div>

          <button class="btnGuide" id="guideBtn">âœ… Install Guide</button>
          <div class="hint">Fast direct download â€¢ Official source only</div>
        </div>

        <div class="grid">
          <div class="tile"><div class="k">Version</div><div class="v">V1.0</div></div>
          <div class="tile"><div class="k">APK Size</div><div class="v">74MB</div></div>
          <div class="tile"><div class="k">Android</div><div class="v">7.0+</div></div>
        </div>

        <div class="counterBox">
          <div class="counterTitle">Total Downloads</div>
          <div class="counterNum" id="count">â€”</div>
        </div>

        <footer>Â© 2026 pirateplay.in â€¢ All rights reserved</footer>

      </div>
    </div>
  </div>

  <!-- âœ… POPUP MODAL -->
  <div class="modal" id="modal">
    <div class="modalBox" role="dialog" aria-modal="true">

      <div class="modalTop">
        <div class="modalTitle">Install Guide</div>
        <div class="stepLabel" id="stepLabel">Step 1 / 5</div>
        <button class="closeBtn" id="closeModal">âœ•</button>
      </div>

      <div class="slider" id="slider">
        <div class="slide"><img src="T1.png" alt="Install Guide 1"></div>
        <div class="slide"><img src="T2.png" alt="Install Guide 2"></div>
        <div class="slide"><img src="T3.png" alt="Install Guide 3"></div>
        <div class="slide"><img src="T4.png" alt="Install Guide 4"></div>
        <div class="slide"><img src="T5.png" alt="Install Guide 5"></div>
      </div>

      <div class="navRow">
        <button class="navBtn" id="prevBtn">â¬… Prev</button>
        <div class="dots" id="dots"></div>
        <button class="navBtn" id="nextBtn">Next âž¡</button>
      </div>

      <div class="modalHint">Swipe âžœ or use buttons â€¢ Tap outside to close</div>
    </div>
  </div>

  <script>
    // âœ… Links
    const APK_URL = "https://github.com/raazsingh9504-commits/pirateplay/releases/download/V1.0/pirate.play.2.0.apk";

    // âœ… Worker endpoints
    const WORKER_BASE = "https://pirateplay-counter.raazsingh9504.workers.dev";
    const COUNT_URL = WORKER_BASE + "/count";
    const INC_URL   = WORKER_BASE + "/inc";

    const countEl = document.getElementById("count");
    const btn = document.getElementById("downloadBtn");

    const modal = document.getElementById("modal");
    const guideBtn = document.getElementById("guideBtn");
    const closeModalBtn = document.getElementById("closeModal");

    const slider = document.getElementById("slider");
    const dotsWrap = document.getElementById("dots");
    const stepLabel = document.getElementById("stepLabel");

    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    const TOTAL = 5;

    function formatNumber(n){
      return Number(n).toLocaleString("en-IN");
    }

    function openGuide(){
      modal.classList.add("show");
      slider.scrollTo({ left: 0, behavior: "instant" });
      updateUI(0);
    }

    function closeGuide(){
      modal.classList.remove("show");
    }

    modal.addEventListener("click", (e) => {
      if (e.target === modal) closeGuide();
    });
    closeModalBtn.addEventListener("click", closeGuide);

    guideBtn.addEventListener("click", () => {
      openGuide();
    });

    function buildDots(){
      dotsWrap.innerHTML = "";
      for(let i=0;i<TOTAL;i++){
        const d = document.createElement("div");
        d.className = "dot" + (i===0 ? " active" : "");
        d.addEventListener("click", () => goTo(i));
        dotsWrap.appendChild(d);
      }
    }
    buildDots();

    function getIndex(){
      const w = slider.clientWidth;
      const idx = Math.round(slider.scrollLeft / w);
      return Math.max(0, Math.min(TOTAL-1, idx));
    }

    function updateUI(idx){
      stepLabel.textContent = `Step ${idx + 1} / ${TOTAL}`;

      const dots = dotsWrap.querySelectorAll(".dot");
      dots.forEach((d,i)=> d.classList.toggle("active", i===idx));

      prevBtn.disabled = idx === 0;
      nextBtn.disabled = idx === TOTAL - 1;
    }

    function goTo(idx){
      const w = slider.clientWidth;
      slider.scrollTo({ left: idx * w, behavior: "smooth" });
      updateUI(idx);
    }

    prevBtn.addEventListener("click", () => {
      const idx = getIndex();
      goTo(idx - 1);
    });

    nextBtn.addEventListener("click", () => {
      const idx = getIndex();
      goTo(idx + 1);
    });

    slider.addEventListener("scroll", () => {
      // Smooth UI update on swipe
      window.requestAnimationFrame(() => {
        updateUI(getIndex());
      });
    });

    async function loadCount(){
      countEl.textContent = "â€”";
      try{
        const res = await fetch(COUNT_URL + "?t=" + Date.now(), { cache: "no-store" });
        const data = await res.json();
        if(typeof data.downloads === "number"){
          countEl.textContent = formatNumber(data.downloads);
        } else {
          countEl.textContent = "â€”";
        }
      }catch(err){
        countEl.textContent = "â€”";
      }
    }

    async function incrementAndDownload(){
      btn.disabled = true;
      btn.textContent = "â³ Downloading...";

      // âœ… Start download first
      window.location.href = APK_URL;

      // âœ… Update counter
      try{
        const res = await fetch(INC_URL + "?t=" + Date.now(), { cache: "no-store" });
        const data = await res.json();
        if(typeof data.downloads === "number"){
          countEl.textContent = formatNumber(data.downloads);
        }
      }catch(e){
        // ignore
      }

      // âœ… 1 sec later show guide popup
      setTimeout(() => {
        openGuide();
      }, 1000);

      setTimeout(() => {
        btn.disabled = false;
        btn.textContent = "â¬‡ Download APK";
      }, 2000);
    }

    // âœ… Load counter on open
    loadCount();

    // âœ… Download click
    btn.addEventListener("click", incrementAndDownload);
  </script>
</body>
</html>
